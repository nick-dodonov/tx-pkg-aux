# === ГЛАВНАЯ КОНФИГУРАЦИЯ BAZEL ===
# Модульная система конфигураций с импортами

# === MODULE REGISTRY ===
# Общие настройки для всех команд (build, query, mod, test, etc.)
common --registry=https://bcr.bazel.build/
common --registry=https://raw.githubusercontent.com/nick-dodonov/tx-kit-repo/main

# === ИМПОРТ МОДУЛЬНЫХ КОНФИГУРАЦИЙ ===
try-import tools/bazel/configs/common.bazelrc
try-import tools/bazel/configs/platforms.bazelrc  
try-import tools/bazel/configs/targets.bazelrc
try-import tools/bazel/configs/modes.bazelrc

# === ПОЛЬЗОВАТЕЛЬСКИЕ НАСТРОЙКИ (не в git) ===
try-import .local.bazelrc
try-import .user.bazelrc

# === ALIASES (удобные комбинации) ===
# Автоматическое определение платформы через --enable_platform_specific_config
build:local-debug --config=debug
build:local-dev --config=dev
build:local-release --config=release

# === SOURCE DEVELOPMENT ALIASES ===
build:local-debug-source --config=debug --config=source

# === EMSCRIPTEN COMBINATIONS ===
build:wasm-debug --config=wasm --config=debug
build:wasm-dev --config=wasm --config=dev
build:wasm-release --config=wasm --config=release

# === TESTING COMBINATIONS ===
test:local-unit --config=dev --config=unit
